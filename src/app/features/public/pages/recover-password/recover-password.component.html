<div class="recover-page">
    <div class="container">
      <div class="recover-wrapper">
        <app-card variant="elevated" padding="lg" class="recover-card">
          <div class="card-header">
            <h1 class="card-title">Recuperar Contraseña</h1>
            <p class="card-subtitle">Introduce tu email para recibir instrucciones</p>
          </div>
          
          <!-- Mensaje de éxito -->
          <div class="success-message" *ngIf="success">
            <div class="success-icon">
              <i class="fa-solid fa-circle-check"></i>
            </div>
            <h3>Solicitud enviada</h3>
            <p>
              Hemos enviado instrucciones para recuperar tu contraseña al email proporcionado. 
              Por favor, revisa tu bandeja de entrada y sigue los pasos indicados.
            </p>
            <app-button 
              variant="primary" 
              routerLink="/login"
            >
              Volver a Iniciar Sesión
            </app-button>
          </div>
          
          <!-- Formulario de recuperación -->
          <form *ngIf="!success" [formGroup]="recoverForm" (ngSubmit)="onSubmit()" class="recover-form">
            <!-- Alerta de error -->
            <div class="error-alert" *ngIf="error">
              <i class="fa-solid fa-circle-exclamation"></i>
              <span>{{ error }}</span>
            </div>
            
            <!-- Campo de email -->
            <div class="form-group">
              <label for="email">Email</label>
              <div class="input-container">
                <i class="fa-solid fa-envelope input-icon"></i>
                <input 
                  type="email" 
                  id="email" 
                  formControlName="email" 
                  placeholder="Tu email registrado"
                  [class.invalid]="hasError('email')"
                >
              </div>
              <div class="error-message" *ngIf="hasError('email')">
                {{ getErrorMessage('email') }}
              </div>
            </div>
            
            <!-- Botón de envío -->
            <app-button 
              variant="primary" 
              size="lg" 
              [fullWidth]="true"
              [loading]="loading"
              type="submit"
            >
              Recuperar Contraseña
            </app-button>
            
            <!-- Enlaces adicionales -->
            <div class="form-links">
              <a routerLink="/login">Volver a Iniciar Sesión</a>
            </div>
          </form>
          
          <!-- Pie de la tarjeta -->
          <div class="card-footer" *ngIf="!success">
            <p>¿No tienes una cuenta? <a routerLink="/register">Regístrate</a></p>
          </div>
        </app-card>
      </div>
    </div>
  </div>